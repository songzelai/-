<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>注册页面</title>
<script type="text/javascript" src="jquery-3.1.1.min.js"></script>
<style type="text/css">
p {
	margin-left: 100px;
	font-size: 30px;
}

table {
	margin-left: 50px;
}

div {
	margin: 20px 0 0 800px;
}

input {
	width: 300px;
	height: 30px;
	margin-bottom: 10px;
}

#z1 {
	background-color: #080;
}
</style>
</head>
<body>
	<div>
		<p>注册页面</p>
		用 户 名<br> 
		<input type="text" name="username" placeholder="请输入用户名" id="username"><span id="s1"></span><br>
		 密 码:<br>
		  <input type="password" name="password" placeholder="请输入密码" id="password"><span id="s2"></span><br>
		年 龄:<br> 
		<input name="age" placeholder="请输入年龄" id="age"><span id="s3"></span><br> 
		请输入手机号码：<br> 
		<input name="phone" placeholder="请输入手机号码" id="phone"><span id="s4"></span><br>
		 请输入邮箱号码:<br>
		 <input name="email" placeholder="请输入邮箱号码" id="email"> <span id="s5"></span><br>
		<input type="button" value="注册" id="z1">
	</div>
	<script type="text/javascript">
		$("#z1").click(function() {
			$("#s2").empty("密码错误");
			$("#s1").empty("用户名错误");
			$("#s3").empty("年龄错误");
			$("#s4").empty("手机好错误");
			$("#s5").empty("邮箱错误");
		
			
			
			
			
							var u = $("#username").val();
							var p = $("#password").val();
							var a = $("#age").val();
							var ph = $("#phone").val();
							var e = $("#email").val();
							var nam={a1:/^[\u4e00-\u9fffa-zA-Z]{1,15}$/,}
							var pad={a2:/^[\w]{15}$/,}
							var age={a3:/^[\d]{1,2}$/,}
							var pho={a4:/^[1][3,4,5,7,8][0-9]{9}$/,}
							var ema={a5:/^([0-9A-Za-z\-_\.]+)@([0-9a-z]+\.[a-z]{2,3}(\.[a-z]{2})?)$/,}
				if(!nam.a1.test(u)){
					$("#s1").html("用户名不能超过15字符");
				}else if (!pad.a2.test(p)) {
			$("#s2").html("你输入的密码不能超过15字符");
		} else if (!age.a3.test(a)) {
			$("#s3").html("输入的年龄格式不能超过2个字符");
		} else if (!pho.a4.test(ph)) {
			$("#s4").html("输入手机号码格式不正确");
		} else if (!ema.a5.test(e)) {
			$("#s4").html("输入邮箱格式不正确");
		}
						
									$.ajax({"url":"user/handlreg.do",
										"data":"username="+u+"&password="+p+"&age="+a+"&phone="+ph+"&email="+e,
										"type" : "POST",
										"dataType" : "json",
										"success":function(json) {
											
											
											
												if (json.state == 1) {
													$("#s1").html(json.massage);
												
											} 
												
										}
									});
						});
	</script>


</body>
</html>